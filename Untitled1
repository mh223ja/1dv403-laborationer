"use strict"

var newDiv = null;
var innerDiv = null;
var table = null;
var row = null;
var cell = null;
var aTag = null;
var image = null;

// Use this to put class names on the images.
var boxCounter = 0;

// Static memory-object.
var Memory = {

    memoryArray: [],

    init: function (e) {

        // Calls a separate js-file which generates a random numbers.
        Memory.memoryArray = RandomGenerator.getPictureArray(4, 4);

        // Calls the rendering method
        Memory.renderArray(Memory.memoryArray);
    },

    renderArray: function (myArray) {

        // Creates and places div-tags in the HTML-document.
        newDiv = document.createElement("div");
        document.getElementsByTagName("body")[0].appendChild(newDiv);
        innerDiv = document.createElement("div");
        newDiv.appendChild(innerDiv);

        // Creates a table and places it in the HTML-document.
        table = document.createElement("table");
        table.border = 1;

        // Generates rows and cells, swap the 4's to change the size of the gameboard.
        for (var i = 0; i < 4; ++i) {
            row = document.createElement("tr");
            table.appendChild(row);

            // Creates a cell, each with its own respective random number.
            for (var j = 0; j < 4; ++j) {
                cell = document.createElement("td");

                // Adds a "Question-mark"-picture to the cell and places them in a-tags.
                image = document.createElement("img");
                image.className = myArray[i * 4 + j];
                image.src = "https://github.com/1dv403/1dv403-laborationer/blob/master/3-gameon/memory/pics/0.png?raw=true";
                aTag = document.createElement("a");
                aTag.onclick = function () {

                    Memory.flipTile(image.className);
                };

                // Places the pictures in the document, along with its random number for easier testing purposes.
                aTag.appendChild(document.createTextNode(myArray[i * 4 + j]));
                aTag.appendChild(image);
                cell.appendChild(aTag);
                row.appendChild(cell);
            };
        };
        innerDiv.appendChild(table);

    }

};
window.onload = Memory.init;